# 建模和渲染的主题

本章详细介绍了3D建模和渲染中的特定主题。虽然非常一般，但在我们构建更高级的工具和插件时，
这些主题在第5章和文本的其余部分中变得非常重要。读者将了解3D艺术家，
游戏开发人员和渲染软件工程师常见的许多实用程序和陷阱。有了这些知识，
读者将能够更好地满足这些专业人员在脚本和插件开发方面的需求。

## 指定一个3D模型

3D模型是复杂的数字资源，可以由许多不同的组件组成。在我们通常认为网格是构成资源形状的最重要结构的地方，
网格由面构成，其由由索引排列的顶点组成。网格可以包含法线向量或法线，可以使用顶点或面指定，具体取决于文件格式。
当我们在摘要中引用这些术语时，我们通常会讨论3D建模主题，而不是在Blender中专门定义它们。

我们开始讨论3D模型，纯粹是网格，包括顶点，索引，面和法线。
从那里，我们讨论3D模型的高级和特定功能，作为我们对网格讨论的扩展。

### 指定网格

出于本章的目的，我们认为基本网格是由其面和法向量定义的。请参阅上述组件的以下定义：

1。顶点是指定三维空间中位置的实值三元组，通常表示为(x,y,z)。由于我们讨论的原因，
通常会在指定3D网格的文件中多次指定相同的点。在3D建模中，z轴或y轴最常用于表示垂直轴。在Blender中，z轴是垂直轴。
我们将在整个文本中使用此格式。

2。指数是正整数三元组，它使用一系列顶点指定面，通常表示为(i,j,k)。给定索引为1,...,N的N个顶点的列表，
3D空间中的面可以由1,...,N中的任意三个唯一整数三元组指定。
这个概念在逻辑上非常自然地扩展到允许我们通过重用预先指定的顶点来定义网格。由于我们解释的原因，
整数的顺序对于确定面部可见的方向很重要。索引重用元组值的概念通常会扩展到其他元组，例如法线和UV。

3。面由引用三个顶点的整数三元组索引确定。根据我们的定义，我们自然会得出这样的事实：
3D空间中的三顶点面需要总共九个实值数据点。重要的是要注意3D空间中的面只能在单个方向看到。
给定旋转相机和3D空间中的单个面部，用户将进能够从单个方向观看面部。从另一个方向看，面部将显示完全透明。
这是我们将学习控制的许多3D渲染器的原生和预期行为。请注意，默认情况下，Blender不会显示此单向行为，
但在导出为其他文件格式时，Blender将不会自动控制或更正此行为。

4。法线向量是实值三元组，用于定义网格如何与场景中的灯光和摄像机进行交互。目前，我们只关注法线，
因为它们被直接分配到点而不是3D艺术家可能已经熟悉的法线贴图。顾名思义，
在假设法线矢量垂直于其正在照射的面部的情况下，场景中的相机和照明与网格相互作用。
这并不总是一个微不足道的问题，正如我们将在我们的立方体示例中看到的那样。
法线向量还会影响面部可见的方向以及面部透明的方向，如面部定义所述。

### 指定纹理

3D模型中纹理的目的是将2D图像映射到3D表面上，通常使用现有的2D艺术资源。我们用于此的坐标约定是(u,v)坐标系。
在数学的其他领域，当讨论3D表面的2D投影时，我们通常使用(u,v)坐标系来清楚地表示我们在与(x,y,z)坐标系分开的空间中工作。

纹理坐标非常直观。如果我们想在矩形表面上拉伸图像，
我们指定uv坐标列表[(0.0,0.0),(1.0,0.0),(0.0,1.0),(1.0,1.0)]来拉伸整个图像，面朝上，从左到右，
在我们正在看的表面上。这假设我们模型中的坐标1到4表示从我们的角度看表面的左下角，右下角，左下角和右上角坐标。
有关此香草纹理方案的示例，请参见图4-1。

图4-1

![](https://github.com/BlenderCN/blenderTutorial/blob/master/mDrivEngine/4-1.png?raw=true)

如果我们想要在表面上拉伸，缩小或复制图像，我们只需通过适当的因子调整uv坐标。例如，在立方体表面上将图像平铺三次，
我们输入uv坐标[(0.0),(3.0,0.0),(0.0,3.0),(3.0,3.0)]。有关平铺纹理的示例，请参见图4-2。

图4-2

![](https://github.com/BlenderCN/blenderTutorial/blob/master/mDrivEngine/4-2.png?raw=true)

在第8章之前，我们不会通过Blender的Python API使用纹理，但是当我们讨论3D模型和文件格式时，纹理的uv坐标的概念很重要。

## 常见文件格式

我们首先列出常见的文件格式并解释它们各自的优点和用途。我们在本章开头将这些格式与我们对3D对象的定义结合使用，
以进一步说明这些概念。

### Wavefront(.obj and mtl)

Wavefront几何(.obj)和材料(.mtl)规范格式协同工作以指定网格和纹理。它们的编写方式使.obj文件可以独立存在以仅指定几何。
.obj文件非常简单易懂，非常适合用作讨论3D对象形状的标准符号。



    

