现在是时候激动人心了！当我们继续构建我们的第一个项目时，我们将使用我们在上一章中讨论过的设计过程，并从一个水平草图开始。你可能想要打开虚幻引擎并向右跳，对吧？当我能够建立一个我一直想要的那个甜蜜水平的时候会花费多少时间？好吧，这就是原因。避免多次修订和花费大量时间重做级别部分的最佳方法是提前计划。弄清楚关卡的设置，架构，背景和故事。考虑一下你会在哪里放置故事提示和电源。由朋友，玩家和团队成员运行你的想法。记录你收到的反馈，然后建立你的级别。水平设计师相当于“测量两次，切一次”。

让我们来看看我们的关卡草图：

![关卡草图]()

所以这是我们的第一级。关卡本身非常基础。我们有两个房间通过走廊连接，一些楼梯通向第二层。在我们完成基本布局后，我们可以在侧面货物升降机，并为玩家进行互动。我试图以小型货船的形式布置水平，以适应我们科幻恐怖游戏的主题。该级别将作为设置的介绍，以及将玩家运送到我们稍后将建设的闹鬼空间站环境的方式。

在这一章，我们将包含下列主题：

*   Building the level using Unreal's Content Browser

*   Using different types of light

*   Adding interactive elements using Triggers and Blueprints

*   Playtesing our level

## Using the Content Browser to start building the level

继续打开Epic Games Launcher，拉出我们在最后一章末尾开始的项目。虚幻引擎4是对引擎最新版本的巨大升级，因为它为用户提供了一个简单的拖放界面。这是使用界面中的两个重要窗格完成的：Modes窗格和Content Browser。界面的这些部分允许关卡设计师将元素拖动到关卡中并将它们放置在需要的位置。在这两个中，我们将最多使用Content Browser

![内容浏览器]()

Content Browser包含可在创建中使用的所有对象，声音，材质和粒子。它们被分类到镜像存储项目的文件结构的文件夹中。如果需要，Unreal会这样做以轻松移动项目文件。浏览浏览器很容易。双击文件夹会打开该文件夹，而面板的顶部会显示一个breadcrumb trail，可以单击该trail以向后移动你的选择。我想确保源面板也打开；这使得导航和查找特定文件更容易。当我们创建项目时，我们告诉Unreal包含Starter Content文件夹。此文件夹包含许多我们开始使用的基础知识，例如各种基本形状，建筑构件，材料等。有了这些，我们就可以开始对我们的设计进行白盒化。

从创建第一个房间开始：

![开始创建]()

要开始构建我们的第一个房间，我们将利用我们在Architecture文件夹中拥有的资产。通过选择地板，墙壁门，我们将组装我们设计的第一个房间

1. 首先让我们开始我们项目的新level。前往File菜单，单击它，然后选择新level。在出现的对话框中选择Empty。

2. 新level绝对没有任何内容。非常适合我们进军太空！放入Floor_400x400作为开始的地方。这是通过单击并从内容浏览器将片段拖动level来完成的。转到详细信息面板并确保其位置设置为x=0 y=0 z=0.这样可以轻松排列我们的其他作品。

3. 复制5次地板。这可以通过按住ALT并移动对象来创建副本来完成。将它们排列成2x3矩形，以创建一个大小合适的房间。

4. 接下来，让我们抓住一些墙。将Wall_400x300拖动到其中一个地板上的水平位置：

![房间]()

5. 我们将使用4-viewport视图排列我们的墙部分。在视口的右上角，有一排图标，用于控制多个不同的项目，例如网格捕捉，角度捕捉，缩放捕捉和相机速度。一直到这些图标右侧的是最小化/最大化按钮。单击该按钮可调出四个，将墙壁部分与地板一角对齐。

6. 复制墙部分，然后使用Move和Rotate工具封闭空间。

7. 最后，通过取出地板并将它们用作屋顶来完成房间来封闭空间。

在这一点上，我确定你只是想要跌入level并在你的新房间跑来跑去。但是，为了测试我们的level，我们需要添加一些东西：灯光和玩家开始。出于测试目的，让我们放入几个Pointights。转到屏幕左侧的Modes面板，然后将两个Pointights拖入你的房间。再次使用4-viewport配置确保它们位于你想要的位置。其次，在同一个面板中，拖动PlayerStart。PlayerStart的箭头从中心伸出。这就是玩家在spawn时将面临的方向。始终尝试将PlayerStart指向你希望玩家先行的方向。这就确保了玩家从一开始就参与其中，并且可以轻松地享受你的创作。最后，我们需要保存文件（使用File菜单或Ctrl+S)并使用Build按钮构建level。

在构建level时测试level是设计过程的重要部分。通过测试，你可以发现你的level是否存在任何缺陷或问题，并在事情变得过于复杂之前进行修复。要测试你的level，请按Play按钮。这将在当前视口中启动播放会话，并允许你在level中运行。如果单击Play按钮旁边的小向下箭头，你将可以选择打开其他类型的播放窗口，例如New Editor Window。能够看到整个播放屏幕会很有帮助。现在测试你的level并确保所有内容都正确排序。一旦你对你的第一个房间感觉良好，让我们构建其余的设计：

![其余设计]()

现在让我们建造走廊。我们可以通过复制我们的level的现有作品轻松构建我们的走廊。我还将向你展示如何在不删除它们的情况下交换片段中的片段：

1. 选择第一个房间中的一个地板块。复制它并将其排列在你想要将门口放入走廊空间的位置。

2.进入Content Browser并选择Wall_Door_400x300。我们将用这件作品替换其中一个墙壁部分。现在选择要在视口中替换的墙块。右键单击它，然后从菜单中选择Replace Selected Actors with Wall_Door_400x300.

![门替墙]()

这将把现有的静态网格与我们选择的网格交换，并添加到那个完美尺寸的门口。复制地板部分两次以延长走廊。不要忘记确保所有部件与现有地板正确对齐。

4. 复制墙壁部分并将其添加到走廊。复制几次封闭走廊的长度。

5. 最后，复制地板以创建天花板并围绕你的走廊，并在其中添加一个灯。

建立你的level并给它一个测试。如果走廊感觉不够长，请添加几个部分。一旦你对目前的level感觉满意，请保存文件。现在让我们添加最后的房间

![最后的房间]()

对于这个房间，我们将为设计添加一些垂直元素。我们还将建造楼梯和电梯进入上面的走道，所以让我们开始：

1.正如我们之前添加的那样，让我们从走廊复制一块地板并将其与门口对齐。这将是我们新房间的开始。这个房间将比最后一个房间大，所以让我们在每个方向复制我们的新楼层两次，创建一排五个楼层。

2.现在让我们通过按住Ctrl并单击每个部分来选择该行中的所有地板块。复制此行四次以创建我们的大房间：

![大房间]()

3. 将走廊的墙壁部分复制到我们的房间，并用它来封闭整个空间，就像我们在走廊里所做的那样。现在选择所有这些墙块并复制它们。将这些碎片放在原件的顶部以创建第二层：

![第二层]()

4. 现在，让我们为二楼制作时装表演。将地板复制到房间的后面。将其与墙顶对齐。

5. 在Details面板中，转到Scale并在绿色框中键入0.7。这将在Y轴上缩放我们的地板块并减少我们的T台走廊的宽度：

![详细信息面板]()

6. 将我们的走道件复制在房间外面，形成一个U形截面。这将为我们的楼梯和电梯流出空间：

![楼梯]()

7. 上楼时间！在模式面板的BSP菜单中添加Curved Staircase。将它与我们的角落对齐，以便它与我们的走道连接。但是，默认楼梯不够高。我们可以通过在Details面板中添加楼梯并弄乱Num Steps选项来解决此问题。我们可以通过调整Step Width选项来调整楼梯的大小。对我有用的设置是Num Steps:15和Step Width：275.

8. 我们的最后一个功能是添加我们电梯所需的部件：

![电梯]()

对于电梯，我复制了一块地板并移动它与我上面的走道对齐。我把它上下移动几次以确保它适合，然后让它坐在地板上的下方位置。我们将动画这一块，让电梯在本章后面工作。

9. 从Architecture文件夹中抓取一个Pillar_50x500件并将它们安排在我们的电梯周围，我们就完成了。



